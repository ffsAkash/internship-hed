document.addEventListener("DOMContentLoaded",()=>{initScrollbar(document.querySelector(".student-dashboard .trending-section .scroll-container"));initScrollbar(document.querySelector(".student-dashboard .specialization-trainings-section .scroll-container"));initScrollbar(document.querySelector(".student-dashboard .certification-trainings-section .scroll-container"));initializeTodoListContainer();fetchSection("/student/dashboard_section/internships_jobs",onFetchInternshipsJobsSuccess);576>document.body.scrollWidth&&
load_ellipse_modal("#interview_tip");$(".complete_onboarding_bar").length&&($header=$("#header"),$header.addClass("incomplete_onboarding_header"));$(document).on("click",".trending_banners",function(a){source_cta=$(this).attr("id");"undefined"===typeof source_cta&&(source_cta="undefined");"undefined"!==typeof dataLayer&&dataLayer.push({event:"trending_banners_click",click:`student_dashboard_${source_cta}`})});"y"===to_show_internshala_max_toast&&general_toast("Congratulations, you are an IS Max student!")});
function fetchSection(a,b){NProgress.start();$(".loading_image").show();$.ajax(a,{success:b,error:onError,method:"POST"})}
function initializeTodoListContainer(){const a=document.querySelector(".student-dashboard .with-todo-list");if(a){var b=document.getElementById("todo-list-section").querySelector(".todo-list-section .todo-list-container"),d=b.querySelectorAll(".todo-tile.hidden"),c=b.querySelector(".show-all");c&&c.addEventListener("click",()=>{d.forEach(e=>e.classList.remove("hidden"));c.remove()});1365>=$(window).width()?(a.classList.remove("with-todo-list"),document.querySelector(".student-dashboard .container .left-container").style.display=
"block"):document.querySelector(".max-width-container").style.maxWidth="1334px"}}
function onFetchInternshipsJobsSuccess(a){try{NProgress.done();$(".loading_image").hide();if(!a.success)return throw_error(a.errorThrown);a.internships_jobs_view&&(document.getElementById("internships-jobs-section").innerHTML=a.internships_jobs_view,Array.from(document.querySelectorAll("#internships-jobs-section .internships-jobs-section .scroll-container")).forEach(b=>{initScrollbar(b)}))}catch(b){throw_error(b),NProgress.done(),$(".loading_image").hide()}}
function onFetchReccomendedCertificationSuccess(a){try{NProgress.done();$(".loading_image").hide();if(!a.success)return throw_error(a.errorThrown);if(a.view){var b=document.getElementById("certification-trainings-section");b.innerHTML=a.view;b.style.display="block";initScrollbar(b.querySelector(".certification-trainings-section .scroll-container"))}}catch(d){throw_error(d),NProgress.done(),$(".loading_image").hide()}}
$("#interview_tip").click(function(){576<=document.body.scrollWidth&&$("#interview_tip").popover({placement:"right",html:!0,sanitize:!1,boundary:"window",content:`${name}`}).popover("show")});$(document.body).click(function(a){$(a.target).is("#interview_tip")||$("#interview_tip").popover("hide")});
const initScrollbar=a=>{if(a){var b=0,d=a.querySelector(".scroll-controller"),c=a.querySelector(".scroll"),e=c.querySelectorAll(".card");if(c.clientWidth>=c.scrollWidth-1)c.classList.add("no-scroll");else return d.style.display="flex",d.querySelector(".track .thumb").style.width=`${100*c.clientWidth/c.scrollWidth}%`,c.addEventListener("scroll",f=>{d.querySelector(".track .thumb").style.left=`${100*c.scrollLeft/c.scrollWidth}%`;0===c.scrollLeft?d.querySelector(".arrow.prev").classList.add("disabled"):
c.scrollLeft+c.clientWidth>=c.scrollWidth-1?d.querySelector(".arrow.next").classList.add("disabled"):(d.querySelector(".arrow.prev").classList.remove("disabled"),d.querySelector(".arrow.next").classList.remove("disabled"))}),d.querySelector(".arrow.next").addEventListener("click",f=>{f.currentTarget.classList.contains("disabled")||(e[b+1]?(b++,e[b].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})):e[e.length-1].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}),
d.querySelector(".arrow.prev").addEventListener("click",f=>{f.currentTarget.classList.contains("disabled")||(e[b-1]?(b--,e[b].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})):e[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}),()=>{b=0;e[0].scrollIntoView({block:"nearest",inline:"start"})}}};
